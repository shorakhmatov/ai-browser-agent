# Решение проблем

## Проблемы с установкой

### Ошибка: "No module named 'playwright'"
```bash
pip install -r requirements.txt
playwright install chromium
```

### Ошибка: "No module named 'anthropic'"
```bash
pip install anthropic
```

### Ошибка: "No module named 'dotenv'"
```bash
pip install python-dotenv
```

## Проблемы с браузером

### Браузер не запускается
```bash
# Переустановите браузер
playwright install --with-deps chromium

# Проверьте зависимости
playwright install-deps chromium
```

### Ошибка: "Chromium not found"
```bash
# Полная переустановка
rm -rf ~/.cache/ms-playwright
playwright install chromium
```

### Браузер зависает
- Проверьте интернет соединение
- Увеличьте timeout в config.py
- Перезагрузите браузер

## Проблемы с API

### Ошибка: "ANTHROPIC_API_KEY not set"
```bash
# Проверьте .env файл
cat .env

# Убедитесь, что ключ установлен
ANTHROPIC_API_KEY=sk-ant-...
```

### Ошибка: "Invalid API key"
- Проверьте, что ключ скопирован полностью
- Убедитесь, что ключ активен
- Проверьте, что используется правильный ключ Anthropic

### Ошибка: "Rate limit exceeded"
- Подождите несколько минут
- Проверьте лимиты на аккаунте
- Используйте меньше параллельных задач

## Проблемы с агентом

### Агент не находит элементы
```python
# Добавьте логирование
logger.info(f"Available elements: {elements}")

# Используйте более общие селекторы
# Вместо: button.submit-btn
# Используйте: button
```

### Агент зависает на странице
- Нажмите Ctrl+C для остановки
- Проверьте, что страница загружена
- Попробуйте более простую задачу

### Неправильные результаты
- Проверьте, что задача описана четко
- Разбейте сложную задачу на несколько
- Проверьте логи для отладки

## Проблемы с производительностью

### Медленное выполнение
- Проверьте интернет соединение
- Увеличьте timeout значения
- Используйте более мощный компьютер

### Высокое использование памяти
- Закрывайте браузер после каждой задачи
- Используйте меньше итераций
- Перезагружайте агента регулярно

### Высокое использование CPU
- Уменьшите количество параллельных задач
- Увеличьте задержки между действиями
- Используйте более мощный процессор

## Проблемы с селекторами

### Элемент не найден
```python
# Получите список доступных элементов
task "extract all buttons on the page"

# Используйте более общие селекторы
# Вместо: div.container > button#submit
# Используйте: button
```

### Неправильный селектор
- Проверьте CSS синтаксис
- Используйте DevTools браузера для проверки
- Попробуйте альтернативные селекторы

## Проблемы с формами

### Форма не заполняется
```python
# Убедитесь, что поле видимо
task "scroll to the form and fill it"

# Используйте правильные селекторы
# Проверьте, что поле не disabled
```

### Форма не отправляется
- Проверьте, что все обязательные поля заполнены
- Убедитесь, что кнопка видима
- Проверьте, что нет CAPTCHA

## Проблемы с аутентификацией

### Не могу войти на сайт
```python
# Используйте persistent sessions
# Браузер сохранит cookies

# Или заполните форму входа
task "fill login form with credentials"
```

### Сессия истекла
- Перезагрузите браузер
- Заполните форму входа снова
- Используйте remember me опцию

## Проблемы с CAPTCHA

### CAPTCHA блокирует агента
К сожалению, автоматическое решение CAPTCHA не поддерживается.

**Решения:**
1. Решите CAPTCHA вручную
2. Используйте сайты без CAPTCHA для тестирования
3. Используйте сервис для решения CAPTCHA (платный)

## Проблемы с JavaScript

### Динамический контент не загружается
```python
# Добавьте ожидание
task "wait for content to load and then extract data"

# Используйте wait_for_element
```

### JavaScript ошибки в консоли
- Обычно это не влияет на работу агента
- Проверьте, что функциональность работает
- Игнорируйте если агент работает корректно

## Проблемы с Docker

### Docker образ не собирается
```bash
# Проверьте Docker установку
docker --version

# Пересоберите образ
docker build --no-cache -t ai-browser-agent .
```

### Контейнер не запускается
```bash
# Проверьте логи
docker logs container_id

# Убедитесь, что .env файл существует
docker run -it --env-file .env ai-browser-agent
```

## Проблемы с логированием

### Логи не сохраняются
```python
# Проверьте, что файл логов создается
ls -la agent.log

# Убедитесь, что у вас есть права на запись
chmod 644 agent.log
```

### Слишком много логов
```python
# Уменьшите уровень логирования
logging.basicConfig(level=logging.WARNING)
```

## Контакты и поддержка

### Где получить помощь
- GitHub Issues - для ошибок и предложений
- Документация - для инструкций
- Примеры - для идей использования

### Как сообщить об ошибке
1. Опишите проблему
2. Приложите логи
3. Укажите версию Python и OS
4. Приложите минимальный пример для воспроизведения

# Примеры использования AI Browser Agent

## 1. Поиск информации

### Пример 1: Поиск цены товара
```bash
python cli.py "Найди цену iPhone 15 на amazon.com"
```

**Что происходит:**
1. Агент переходит на amazon.com
2. Находит поле поиска
3. Вводит "iPhone 15"
4. Нажимает кнопку поиска
5. Извлекает цену из результатов
6. Возвращает результат

### Пример 2: Получение контактной информации
```bash
python cli.py "Найди номер телефона и email компании на их сайте"
```

**Что происходит:**
1. Агент анализирует текущую страницу
2. Ищет контактную информацию
3. Прокручивает страницу в поиске контактов
4. Извлекает номер и email
5. Возвращает результат

## 2. Заполнение форм

### Пример 3: Регистрация на сайте
```bash
python cli.py "Заполни форму регистрации с данными: имя=Иван, email=ivan@example.com, пароль=Pass123"
```

**Что происходит:**
1. Агент находит форму регистрации
2. Заполняет поле "Имя"
3. Заполняет поле "Email"
4. Заполняет поле "Пароль"
5. Нажимает кнопку отправки (требует подтверждения)

### Пример 4: Заполнение контактной формы
```bash
python cli.py "Заполни контактную форму сообщением о сотрудничестве"
```

**Что происходит:**
1. Находит контактную форму
2. Заполняет поля (имя, email, сообщение)
3. Отправляет форму (требует подтверждения)

## 3. Навигация и анализ

### Пример 5: Исследование структуры сайта
```bash
python cli.py "Найди все основные разделы сайта и создай их список"
```

**Что происходит:**
1. Анализирует главную страницу
2. Находит навигационное меню
3. Извлекает все ссылки
4. Возвращает структурированный список

### Пример 6: Поиск на GitHub
```bash
python cli.py "Перейди на github.com и найди top 5 trending repositories на Python"
```

**Что происходит:**
1. Переходит на github.com
2. Находит раздел Trending
3. Фильтрует по языку Python
4. Извлекает top 5 репозиториев
5. Возвращает список с ссылками

## 4. Автоматизация покупок

### Пример 7: Добавление товара в корзину
```bash
python cli.py "Найди товар 'Ноутбук' на сайте и добавь его в корзину"
```

**Что происходит:**
1. Ищет товар
2. Переходит на страницу товара
3. Нажимает кнопку "Добавить в корзину"
4. Подтверждает действие

### Пример 8: Оформление заказа
```bash
python cli.py "Оформи заказ товара в корзине"
```

**Что происходит:**
1. Переходит в корзину
2. Проверяет товары
3. Нажимает "Оформить заказ"
4. Заполняет адрес доставки (требует подтверждения)
5. Выбирает способ оплаты (требует подтверждения)
6. Завершает заказ (требует подтверждения)

## 5. Интерактивный режим

### Пример 9: Пошаговое выполнение
```bash
python cli.py
```

Затем в интерактивном режиме:
```
> task перейди на wikipedia.org
> task найди статью о Python
> task скопируй первый параграф
> screenshot wikipedia.png
> url
> exit
```

## 6. Использование в коде

### Пример 10: Программное использование
```python
import asyncio
from advanced_agent import AdvancedAIAgent
import os

async def main():
    api_key = os.getenv("ANTHROPIC_API_KEY")
    agent = AdvancedAIAgent(api_key)
    await agent.initialize()
    
    try:
        # Выполняем задачу
        result = await agent.execute_task(
            "Найди последние новости на news.ycombinator.com"
        )
        print(f"Результат: {result}")
        
    finally:
        await agent.close()

asyncio.run(main())
```

### Пример 11: Обработка результатов
```python
import asyncio
from advanced_agent import AdvancedAIAgent
import json

async def extract_data():
    agent = AdvancedAIAgent(api_key)
    await agent.initialize()
    
    try:
        result = await agent.execute_task(
            "Извлеки все ссылки со страницы"
        )
        
        # Обработка результата
        if "успешно" in result.lower():
            print("Задача выполнена успешно")
        else:
            print("Задача не выполнена")
            
    finally:
        await agent.close()

asyncio.run(extract_data())
```

## 7. Обработка ошибок

### Пример 12: Обработка исключений
```python
import asyncio
from advanced_agent import AdvancedAIAgent

async def safe_task():
    agent = AdvancedAIAgent(api_key)
    
    try:
        await agent.initialize()
        result = await agent.execute_task("ваша задача")
        print(result)
    except Exception as e:
        print(f"Ошибка: {e}")
    finally:
        await agent.close()

asyncio.run(safe_task())
```

## 8. Сложные сценарии

### Пример 13: Многошаговая задача
```bash
python cli.py "Перейди на amazon.com, найди товар 'MacBook Pro', проверь цену, добавь в корзину и покажи итоговую стоимость"
```

### Пример 14: Сравнение цен
```bash
python cli.py "Найди цену товара на amazon.com, ebay.com и walmart.com и сравни их"
```

### Пример 15: Мониторинг изменений
```bash
python cli.py "Проверь цену товара на сайте и уведоми если она упала ниже 100 долларов"
```

## Советы и трюки

### Совет 1: Более точные задачи
Вместо:
```
"Найди информацию"
```

Используйте:
```
"Найди номер телефона компании на странице контактов"
```

### Совет 2: Разбиение сложных задач
Вместо одной большой задачи:
```
"Перейди на сайт, найди товар, добавь в корзину и оформи заказ"
```

Разбейте на несколько:
```
task перейди на сайт
task найди товар MacBook
task добавь в корзину
task оформи заказ
```

### Совет 3: Использование скриншотов
```bash
python cli.py "Найди информацию и сделай скриншот"
```

Затем:
```
> screenshot result.png
```

### Совет 4: Проверка статуса
```bash
> url
> task извлеки текст со страницы
```

## Ограничения и особенности

### Что работает хорошо
✅ Поиск информации
✅ Заполнение форм
✅ Навигация по сайтам
✅ Извлечение текста
✅ Клики по кнопкам и ссылкам

### Что требует внимания
⚠️ CAPTCHA (требует ручного решения)
⚠️ Сложные JavaScript приложения
⚠️ Видео и медиа контент
⚠️ Требующие аутентификации сайты

### Что не работает
❌ Загрузка файлов (требует ручного управления)
❌ Сложные интерактивные элементы
❌ Требующие специальных плагинов сайты
